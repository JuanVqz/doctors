= render "shared/section" do
  %div.flex.flex-col.md:flex-row.md:justify-between
    = render "shared/actions", model: :appoinment, search_path: appoinments_path

= render "shared/section" do
  = render "shared/table" do
    %thead.border-b.border-gray-300.dark:border-gray-700.text-gray-400
      %tr
        %th.py-2{scope: :col} Paciente
        %th.py-2{scope: :col} Motivo
        %th.py-2{scope: :col} Fecha
        %th.py-2{scope: :col} Acciones
    %tbody
      - @appoinments.each do |appoinment|
        %tr.cursor-pointer.hover:bg-gray-200.dark:hover:bg-gray-700
          %td.py-2.whitespace-nowrap= appoinment.patient
          %td.py-2.whitespace-nowrap= truncate(appoinment.reason, lenght: 50)
          %td.py-2.whitespace-nowrap= time_ago_in_words(appoinment.created_at)
          %td.py-2.whitespace-nowrap
            .flex.flex-row.justify-around
              = link_to appoinment_path(appoinment, format: :pdf), 'data-tooltip': 'Imprimir', class: 'tooltip tooltip-top', target: :_blank do
                %i.fa.fa-print.text-red-600
              = link_to edit_appoinment_path(appoinment), 'data-tooltip': 'Editar', class: 'tooltip tooltip-top' do
                %i.fa.fa-edit.text-yellow-600
              = link_to appoinment, 'data-tooltip': 'Detalles', class: 'tooltip tooltip-left' do
                %i.fa.fa-eye.text-sky-600
